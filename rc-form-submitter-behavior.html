<link rel="import" href="../polymer/polymer.html">

<script>
  /**
   * 该behavior可帮助你实现一个检验表单的行为——通过触发submitForm()方法去检验表单，表单验证通过之后执行validatedSubmit()，否则执行invalidatedSubmit()。
   *
   * @polymerBehavior
   * @demo demo/index.html
   */

  Polymer.RcFormSubmitterBehavior = {
    properties: {
      /**
       * 该属性提供给submitter所控制的form。
       * 其必须是一个"iron-form"。
       *
       */
      form: Object

    },

    // Element Behavior

    /**
     * 提交表单；表单通过验证后会执行validatedSubmit方法，反之则执行invalidatedSubmit。
     *
     */
    submitForm: function() {
      var form = this.form;

      if (!form.validate()) {
        this.invalidatedSubmit();
        return;
      }

      var formData = form.serialize();
      this.validatedSubmit(formData);
    },

    /**
     * 在此方法内实现表单通过验证后的submit逻辑。
     * @param {Object} formData 表单数据。
     */
    validatedSubmit: function(formData) {

    },

    /**
     * 在此方法内实现表单验证失败后的逻辑。
     *
     */
    invalidatedSubmit: function() {

    }
  };
</script>
